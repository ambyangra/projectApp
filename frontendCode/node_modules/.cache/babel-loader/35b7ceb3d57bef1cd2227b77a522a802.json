{"ast":null,"code":"var _jsxFileName = \"/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const UserContext = createContext({\n  user: null\n});\n// export const UserProvider = ({ children }: UserProviderProps) => {\n//   const [user, setUser] = useState<User | null>(null);\n\n//   useEffect(() => {\n//     const fetchUserInfo = async () => {\n//       try {\n//         const response = await axios.get<User>(\n//           \"http://localhost:8000/api/users/\",\n//         );\n//         const mappedUser: User = {\n//           ...response.data,\n//           is_coach: response.data.user_type === \"coach\",\n//           is_player: response.data.user_type === \"player\",\n//           is_admin: response.data.user_type === \"league_admin\",\n//         };\n//         setUser(mappedUser);\n//       } catch (error) {\n//         console.error(\"Error fetching user info:\", error);\n//       }\n//     };\n//     fetchUserInfo();\n//   }, []);\n\n//   return (\n//     <UserContext.Provider value={{ user }}>{children}</UserContext.Provider>\n//   );\n// };\n\nexport const UserProvider = ({\n  children\n}) => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/users/\");\n        setUser(response.data);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, user ? children : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Loading...\"));\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","UserContext","user","UserProvider","children","setUser","fetchUserInfo","response","get","data","error","console","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, ReactNode } from \"react\";\nimport axios from \"axios\";\nimport { User } from \"../types/User\";\n\nexport const UserContext = createContext<{ user: User | null }>({\n  user: null,\n});\n\ninterface UserProviderProps {\n  children: ReactNode;\n}\n\n// export const UserProvider = ({ children }: UserProviderProps) => {\n//   const [user, setUser] = useState<User | null>(null);\n\n//   useEffect(() => {\n//     const fetchUserInfo = async () => {\n//       try {\n//         const response = await axios.get<User>(\n//           \"http://localhost:8000/api/users/\",\n//         );\n//         const mappedUser: User = {\n//           ...response.data,\n//           is_coach: response.data.user_type === \"coach\",\n//           is_player: response.data.user_type === \"player\",\n//           is_admin: response.data.user_type === \"league_admin\",\n//         };\n//         setUser(mappedUser);\n//       } catch (error) {\n//         console.error(\"Error fetching user info:\", error);\n//       }\n//     };\n//     fetchUserInfo();\n//   }, []);\n\n//   return (\n//     <UserContext.Provider value={{ user }}>{children}</UserContext.Provider>\n//   );\n// };\n\nexport const UserProvider = ({ children }: UserProviderProps) => {\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get<User>(\"http://localhost:8000/api/users/\");\n        setUser(response.data);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user }}>\n      {user ? (\n        children\n      ) : (\n        <div>Loading...</div>\n      )}\n    </UserContext.Provider>\n  );\n};"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAC5E,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,WAAW,GAAGJ,aAAa,CAAwB;EAC9DK,IAAI,EAAE;AACR,CAAC,CAAC;AAMF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAA4B,CAAC,KAAK;EAC/D,MAAM,CAACF,IAAI,EAAEG,OAAO,CAAC,GAAGP,QAAQ,CAAc,IAAI,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAO,kCAAkC,CAAC;QAC1EH,OAAO,CAACE,QAAQ,CAACE,IAAI,CAAC;MACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACDJ,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEV,KAAA,CAAAgB,aAAA,CAACX,WAAW,CAACY,QAAQ;IAACC,KAAK,EAAE;MAAEZ;IAAK,CAAE;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACnClB,IAAI,GACHE,QAAQ,gBAERR,KAAA,CAAAgB,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK,YAAe,CAEF,CAAC;AAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
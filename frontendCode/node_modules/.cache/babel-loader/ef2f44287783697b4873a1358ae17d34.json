{"ast":null,"code":"var _jsxFileName = \"/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const UserContext = createContext({\n  user: null\n});\nexport const UserProvider = ({\n  children\n}) => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/users/\");\n        const mappedUser = {\n          ...response.data,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\"\n        };\n        setUser(mappedUser);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, children);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","UserContext","user","UserProvider","children","setUser","fetchUserInfo","response","get","mappedUser","data","is_coach","user_type","is_player","is_admin","error","console","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, ReactNode } from \"react\";\nimport axios from \"axios\";\nimport { User } from \"../types/User\";\n\nexport const UserContext = createContext<{ user: User }>({\n  user: null,\n});\n\ninterface UserProviderProps {\n  children: ReactNode;\n}\n\nexport const UserProvider = ({ children }: UserProviderProps) => {\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get<User>(\n          \"http://localhost:8000/api/users/\",\n        );\n        const mappedUser: User = {\n          ...response.data,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\",\n        };\n        setUser(mappedUser);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user }}>{children}</UserContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAC5E,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,WAAW,GAAGJ,aAAa,CAAiB;EACvDK,IAAI,EAAE;AACR,CAAC,CAAC;AAMF,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAA4B,CAAC,KAAK;EAC/D,MAAM,CAACF,IAAI,EAAEG,OAAO,CAAC,GAAGP,QAAQ,CAAc,IAAI,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAC9B,kCACF,CAAC;QACD,MAAMC,UAAgB,GAAG;UACvB,GAAGF,QAAQ,CAACG,IAAI;UAChBC,QAAQ,EAAEJ,QAAQ,CAACG,IAAI,CAACE,SAAS,KAAK,OAAO;UAC7CC,SAAS,EAAEN,QAAQ,CAACG,IAAI,CAACE,SAAS,KAAK,QAAQ;UAC/CE,QAAQ,EAAEP,QAAQ,CAACG,IAAI,CAACE,SAAS,KAAK;QACxC,CAAC;QACDP,OAAO,CAACI,UAAU,CAAC;MACrB,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACDT,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEV,KAAA,CAAAqB,aAAA,CAAChB,WAAW,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEjB;IAAK,CAAE;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAErB,QAA+B,CAAC;AAE5E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
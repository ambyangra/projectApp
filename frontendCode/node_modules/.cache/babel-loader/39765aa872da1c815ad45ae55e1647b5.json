{"ast":null,"code":"var _jsxFileName = \"/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const UserContext = createContext({\n  user: null,\n  isLoading: false,\n  error: null\n});\nexport const UserProvider = ({\n  children\n}) => {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/users/\");\n        console.log(response);\n        setUser({\n          id: response.data.id,\n          username: response.data.username,\n          user_type: response.data.user_type,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\"\n        });\n        setError(null);\n      } catch (err) {\n        console.error(\"Error fetching user info:\", err);\n        setError(\"Failed to fetch user information\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user,\n      isLoading,\n      error\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, children);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","UserContext","user","isLoading","error","UserProvider","children","setUser","setIsLoading","setError","fetchUserInfo","response","get","console","log","id","data","username","user_type","is_coach","is_player","is_admin","err","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, ReactNode } from \"react\";\nimport axios from \"axios\";\nimport { User } from \"../types/User\";\n\nexport const UserContext = createContext<{\n  user: User | null;\n  isLoading: boolean;\n  error: string | null;\n}>({\n  user: null,\n  isLoading: false,\n  error: null,\n});\n\ninterface UserProviderProps {\n  children: ReactNode;\n}\n\nexport const UserProvider = ({ children }: UserProviderProps) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get<User>(\n          \"http://localhost:8000/api/users/\",\n        );\n        console.log(response)\n        setUser({\n          id: response.data.id,\n          username: response.data.username,\n          user_type: response.data.user_type,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\",\n        });\n        setError(null);\n      } catch (err) {\n        console.error(\"Error fetching user info:\", err);\n        setError(\"Failed to fetch user information\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user, isLoading, error }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAC5E,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,WAAW,GAAGJ,aAAa,CAIrC;EACDK,IAAI,EAAE,IAAI;EACVC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACT,CAAC,CAAC;AAMF,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAA4B,CAAC,KAAK;EAC/D,MAAM,CAACJ,IAAI,EAAEK,OAAO,CAAC,GAAGT,QAAQ,CAAc,IAAI,CAAC;EACnD,MAAM,CAACK,SAAS,EAAEK,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACM,KAAK,EAAEK,QAAQ,CAAC,GAAGX,QAAQ,CAAgB,IAAI,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACd,MAAMW,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChCF,YAAY,CAAC,IAAI,CAAC;MAClB,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAG,CAC9B,kCACF,CAAC;QACDC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;QACrBJ,OAAO,CAAC;UACNQ,EAAE,EAAEJ,QAAQ,CAACK,IAAI,CAACD,EAAE;UACpBE,QAAQ,EAAEN,QAAQ,CAACK,IAAI,CAACC,QAAQ;UAChCC,SAAS,EAAEP,QAAQ,CAACK,IAAI,CAACE,SAAS;UAClCC,QAAQ,EAAER,QAAQ,CAACK,IAAI,CAACE,SAAS,KAAK,OAAO;UAC7CE,SAAS,EAAET,QAAQ,CAACK,IAAI,CAACE,SAAS,KAAK,QAAQ;UAC/CG,QAAQ,EAAEV,QAAQ,CAACK,IAAI,CAACE,SAAS,KAAK;QACxC,CAAC,CAAC;QACFT,QAAQ,CAAC,IAAI,CAAC;MAChB,CAAC,CAAC,OAAOa,GAAG,EAAE;QACZT,OAAO,CAACT,KAAK,CAAC,2BAA2B,EAAEkB,GAAG,CAAC;QAC/Cb,QAAQ,CAAC,kCAAkC,CAAC;MAC9C,CAAC,SAAS;QACRD,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IACDE,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEd,KAAA,CAAA2B,aAAA,CAACtB,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAEvB,IAAI;MAAEC,SAAS;MAAEC;IAAM,CAAE;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrDzB,QACmB,CAAC;AAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
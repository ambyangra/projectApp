{"ast":null,"code":"var _jsxFileName = \"/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const UserContext = createContext({\n  user: {\n    id: null,\n    username: '',\n    email: '',\n    user_type: 'player',\n    is_coach: false,\n    is_player: true,\n    is_admin: false\n  }\n});\nexport const UserProvider = ({\n  children\n}) => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/api/users/\");\n        const mappedUser = {\n          ...response.data,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\"\n        };\n        setUser(mappedUser);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, children);\n};","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","UserContext","user","id","username","email","user_type","is_coach","is_player","is_admin","UserProvider","children","setUser","fetchUserInfo","response","get","mappedUser","data","error","console","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ambalica/Workplace/Amby/myfirstproject/mysite/reactapp/src/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, ReactNode } from \"react\";\nimport axios from \"axios\";\nimport { User } from \"../types/User\";\n\nexport const UserContext = createContext<{ user: User }>({\n  user: {\n    id: null,\n    username: '',\n    email: '',\n    user_type: 'player',\n    is_coach: false,\n    is_player: true,\n    is_admin: false,\n  },\n});\n\n\ninterface UserProviderProps {\n  children: ReactNode;\n}\n\nexport const UserProvider = ({ children }: UserProviderProps) => {\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get<User>(\n          \"http://localhost:8000/api/users/\",\n        );\n        const mappedUser: User = {\n          ...response.data,\n          is_coach: response.data.user_type === \"coach\",\n          is_player: response.data.user_type === \"player\",\n          is_admin: response.data.user_type === \"league_admin\",\n        };\n        setUser(mappedUser);\n      } catch (error) {\n        console.error(\"Error fetching user info:\", error);\n      }\n    };\n    fetchUserInfo();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ user }}>{children}</UserContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAC5E,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,WAAW,GAAGJ,aAAa,CAAiB;EACvDK,IAAI,EAAE;IACJC,EAAE,EAAE,IAAI;IACRC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE,QAAQ;IACnBC,QAAQ,EAAE,KAAK;IACfC,SAAS,EAAE,IAAI;IACfC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAOF,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAA4B,CAAC,KAAK;EAC/D,MAAM,CAACT,IAAI,EAAEU,OAAO,CAAC,GAAGd,QAAQ,CAAc,IAAI,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMc,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAC9B,kCACF,CAAC;QACD,MAAMC,UAAgB,GAAG;UACvB,GAAGF,QAAQ,CAACG,IAAI;UAChBV,QAAQ,EAAEO,QAAQ,CAACG,IAAI,CAACX,SAAS,KAAK,OAAO;UAC7CE,SAAS,EAAEM,QAAQ,CAACG,IAAI,CAACX,SAAS,KAAK,QAAQ;UAC/CG,QAAQ,EAAEK,QAAQ,CAACG,IAAI,CAACX,SAAS,KAAK;QACxC,CAAC;QACDM,OAAO,CAACI,UAAU,CAAC;MACrB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACDL,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjB,KAAA,CAAAwB,aAAA,CAACnB,WAAW,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEpB;IAAK,CAAE;IAAAqB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEjB,QAA+B,CAAC;AAE5E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}